Started by user admin
Obtained Jenkinsfile from git https://github.com/i-dipanshu/devops-session-project-24
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /Users/dipanshu/.jenkins/workspace/devops-23
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /Users/dipanshu/.jenkins/workspace/devops-23/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/i-dipanshu/devops-session-project-24 # timeout=10
Fetching upstream changes from https://github.com/i-dipanshu/devops-session-project-24
 > git --version # timeout=10
 > git --version # 'git version 2.39.3 (Apple Git-146)'
 > git fetch --tags --force --progress -- https://github.com/i-dipanshu/devops-session-project-24 +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 398e364ea8a9b63395365bd7aa72cc339b81c717 (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 398e364ea8a9b63395365bd7aa72cc339b81c717 # timeout=10
Commit message: "update jenkinsfile"
 > git rev-list --no-walk 9177a39f7e2bf1c2f5a772f40e569a48d8d0b674 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withCredentials
Masking supported pattern matches of $AWS_ACCESS_KEY_ID or $AWS_SECRET_ACCESS_KEY
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Checkout)
[Pipeline] git
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /Users/dipanshu/.jenkins/workspace/devops-23/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/i-dipanshu/devops-session-project-24 # timeout=10
Fetching upstream changes from https://github.com/i-dipanshu/devops-session-project-24
 > git --version # timeout=10
 > git --version # 'git version 2.39.3 (Apple Git-146)'
 > git fetch --tags --force --progress -- https://github.com/i-dipanshu/devops-session-project-24 +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 398e364ea8a9b63395365bd7aa72cc339b81c717 (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 398e364ea8a9b63395365bd7aa72cc339b81c717 # timeout=10
 > git branch -a -v --no-abbrev # timeout=10
 > git branch -D main # timeout=10
 > git checkout -b main 398e364ea8a9b63395365bd7aa72cc339b81c717 # timeout=10
Commit message: "update jenkinsfile"
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Terraform Init)
[Pipeline] script
[Pipeline] {
[Pipeline] sh
+ terraform --version
Terraform v1.5.7
on darwin_arm64

Your version of Terraform is out of date! The latest version
is 1.9.3. You can update by downloading from https://www.terraform.io/downloads.html
[Pipeline] dir
Running in /Users/dipanshu/.jenkins/workspace/devops-23/terraform
[Pipeline] {
[Pipeline] sh
+ terraform init

[0m[1mInitializing the backend...[0m

[0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file
- Using previously-installed hashicorp/aws v5.60.0

[0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Terraform Apply)
[Pipeline] script
[Pipeline] {
[Pipeline] dir
Running in /Users/dipanshu/.jenkins/workspace/devops-23/terraform
[Pipeline] {
[Pipeline] sh
+ terraform apply -auto-approve
[0m[1maws_vpc.main: Refreshing state... [id=vpc-0d73d6753bf8002a7][0m
[0m[1maws_subnet.public: Refreshing state... [id=subnet-01c027e6a68555ce0][0m
[0m[1maws_internet_gateway.gw: Refreshing state... [id=igw-0cc94222caae551a3][0m
[0m[1maws_route_table.private: Refreshing state... [id=rtb-054c8a9e5512780b1][0m
[0m[1maws_subnet.private: Refreshing state... [id=subnet-06dfdb964ec42c504][0m
[0m[1maws_security_group.private_sg: Refreshing state... [id=sg-0f470e38f68b4bab1][0m
[0m[1maws_security_group.public_sg: Refreshing state... [id=sg-03f2d3d9a7682fbbc][0m
[0m[1maws_route_table.public: Refreshing state... [id=rtb-07f19b7aedf0daa55][0m
[0m[1maws_route_table_association.private_association: Refreshing state... [id=rtbassoc-0d33bd66bac943760][0m
[0m[1maws_instance.private: Refreshing state... [id=i-0d6d64f88aab46a50][0m
[0m[1maws_route_table_association.public_association: Refreshing state... [id=rtbassoc-04d53958943722721][0m
[0m[1maws_instance.public: Refreshing state... [id=i-089493cf86c6d8d81][0m

[0m[1m[32mNo changes.[0m[1m Your infrastructure matches the configuration.[0m

[0mTerraform has compared your real infrastructure against your configuration
and found no differences, so no changes are needed.
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 0 destroyed.
[0m[0m[1m[32m
Outputs:

[0minternet_gateway_id = "igw-0cc94222caae551a3"
private_instance_id = "i-0d6d64f88aab46a50"
private_instance_private_ip = "10.0.2.66"
private_route_table_id = "rtb-054c8a9e5512780b1"
private_subnet_id = "subnet-06dfdb964ec42c504"
public_instance_id = "i-089493cf86c6d8d81"
public_instance_public_ip = "52.41.195.46"
public_route_table_id = "rtb-07f19b7aedf0daa55"
public_subnet_id = "subnet-01c027e6a68555ce0"
vpc_id = "vpc-0d73d6753bf8002a7"
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Testing)
[Pipeline] script
[Pipeline] {
[Pipeline] dir
Running in /Users/dipanshu/.jenkins/workspace/devops-23/terraform
[Pipeline] {
[Pipeline] sh
+ terraform output -raw public_instance_public_ip
[Pipeline] sh
+ terraform output
internet_gateway_id = "igw-0cc94222caae551a3"
private_instance_id = "i-0d6d64f88aab46a50"
private_instance_private_ip = "10.0.2.66"
private_route_table_id = "rtb-054c8a9e5512780b1"
private_subnet_id = "subnet-06dfdb964ec42c504"
public_instance_id = "i-089493cf86c6d8d81"
public_instance_public_ip = "52.41.195.46"
public_route_table_id = "rtb-07f19b7aedf0daa55"
public_subnet_id = "subnet-01c027e6a68555ce0"
vpc_id = "vpc-0d73d6753bf8002a7"
[Pipeline] sh
+ curl -s -o /dev/null -w '%{http_code}' http://52.41.195.46:80
[Pipeline] echo
Frontend application is up and running.
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS